{"version":3,"file":"js/650.7448994e.js","mappings":"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","sources":["webpack://client/./src/directives/clickoutside.ts","webpack://client/./src/stores/adminStore.ts","webpack://client/./src/components/Admin/Chat/ChatMessageComponent.vue?4789","webpack://client/./src/components/Admin/Chat/ChatMessageComponent.vue","webpack://client/./src/components/Admin/Chat/ChatContextMenu.vue?a2e6","webpack://client/./src/components/Admin/Chat/ChatContextMenu.vue","webpack://client/./src/components/Admin/Chat/ChatMessagesComponent.vue?0ab9","webpack://client/./src/components/Admin/Chat/ChatMessagesComponent.vue","webpack://client/./node_modules/uuid/dist/esm-browser/native.js","webpack://client/./node_modules/uuid/dist/esm-browser/rng.js","webpack://client/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://client/./node_modules/uuid/dist/esm-browser/v4.js","webpack://client/./src/components/Admin/Chat/ChatTextareaComponent.vue?cced","webpack://client/./src/components/Admin/Chat/ChatTextareaComponent.vue","webpack://client/./src/components/Admin/Chat/ChatComponent.vue?94d2","webpack://client/./src/components/Admin/Chat/ChatComponent.vue"],"sourcesContent":["export const vClickoutside = {\r\n    beforeMount: function (element: any, binding: any) {\r\n        //  check that click was outside the el and his children\r\n        element.clickOutsideEvent = function (event: any) {\r\n            // and if it did, call method provided in attribute value\r\n            if (!(element === event.target || element.contains(event.target))) {\r\n                binding.value(event);\r\n            }\r\n        };\r\n        document.body.addEventListener(\"click\", element.clickOutsideEvent);\r\n    },\r\n    unmounted: function (element: any) {\r\n        document.body.removeEventListener(\"click\", element.clickOutsideEvent);\r\n    },\r\n};\r\n","import { defineStore } from 'pinia';\r\nimport { ref } from 'vue';\r\n\r\nexport type AdminState = {\r\n    isOpen: boolean,\r\n};\r\n\r\nexport const useAdminStore = defineStore('adminStore', () => {\r\n    const adminSidebar = ref<AdminState>({\r\n        isOpen: false\r\n    });\r\n    return { adminSidebar };\r\n});","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-22d594f2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"chat__message-day\" }\nconst _hoisted_2 = { class: \"chat__message-container\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = { class: \"chat-message-text\" }\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ChatMessageComponent',\n  props: { messages: { type: Object }, date: { type: String }, authStoreUserId: { type: Number, required: true } },\n  emits: [\"contextMenu\"],\n  setup(__props, { emit }) {\n\nconst props = __props;\n\r\n\r\n\r\n\r\nfunction contextMenu(event, id) {\r\n    emit('contextMenu', event, id);\r\n}\r\n\r\n\r\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, _toDisplayString(__props.date), 1),\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.messages, (message) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          key: message.id,\n          onClick: _withModifiers(($event: any) => (contextMenu($event, message.id)), [\"stop\"]),\n          class: _normalizeClass([\"chat__message\", [\r\n                __props.authStoreUserId === message.sender.id\r\n                    ? 'sender'\r\n                    : 'receiver'\r\n            ]])\n        }, [\n          _createElementVNode(\"div\", _hoisted_4, _toDisplayString(message.message), 1)\n        ], 10, _hoisted_3))\n      }), 128))\n    ])\n  ], 64))\n}\n}\n\n})","import script from \"./ChatMessageComponent.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ChatMessageComponent.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ChatMessageComponent.vue?vue&type=style&index=0&id=22d594f2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-22d594f2\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-3befa1d4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", { class: \"chat-context-menu-btn\" }, \"Добавить файлы\", -1))\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", { class: \"chat-context-menu-btn\" }, \"Ответить\", -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", { class: \"chat-context-menu-btn\" }, \"Редактировать\", -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", { class: \"chat-context-menu-btn\" }, \"Удалить\", -1))\nconst _hoisted_5 = [\n  _hoisted_1,\n  _hoisted_2,\n  _hoisted_3,\n  _hoisted_4\n]\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ChatContextMenu',\n  props: ['clientX', 'clientY'],\n  setup(__props) {\n\nconst props = __props;\n\r\n\r\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"chat__context-menu\",\n    style: _normalizeStyle({ left: __props.clientX + 'px', top: __props.clientY + 'px' })\n  }, _hoisted_5, 4))\n}\n}\n\n})","import script from \"./ChatContextMenu.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ChatContextMenu.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ChatContextMenu.vue?vue&type=style&index=0&id=3befa1d4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3befa1d4\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createVNode as _createVNode, unref as _unref, withDirectives as _withDirectives, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nimport axios from 'axios';\r\nimport { computed, onMounted, ref } from 'vue';\r\nimport ChatMessageComponent from './ChatMessageComponent.vue';\r\nimport ChatContextMenu from './ChatContextMenu.vue'\r\nimport { vClickoutside } from \"@/directives/clickoutside\";\r\n\r\ninterface Data {\r\n    chat: { message: String };\r\n}\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ChatMessagesComponent',\n  props: {\r\n    routeId: { type: Number, required: true },\r\n    authStoreUserId: { type: Number, required: true }\r\n},\n  setup(__props) {\n\nconst props = __props;\n\r\nfunction closeContextMenu() {\r\n    if (isContextMenu.value.isActive) {\r\n        isContextMenu.value.isActive = !isContextMenu.value.isActive;\r\n    }\r\n}\r\nconst chat = ref<Data>();\r\nconst isContextMenu = ref({ isActive: false, id: null });\r\nconst clientX = ref(0);\r\nconst clientY = ref(0);\r\nconst chatBlock = ref();\r\n\r\nonMounted(() => getChat());\r\n\r\nfunction getChat() {\r\n    axios.get(`/api/chat/${props.routeId || props.authStoreUserId}`).then(res => {\r\n        console.log(res.data);\r\n        chat.value = res.data;\r\n    });\r\n}\r\n\r\nfunction contextMenu(event: any, id) {\r\n    if (isContextMenu.value.isActive === false) {\r\n        setPositionToContextMenu(event);\r\n        isContextMenu.value.isActive = !isContextMenu.value.isActive;\r\n    } else {\r\n        setPositionToContextMenu(event);\r\n    }\r\n    isContextMenu.value.id = id;\r\n}\r\n\r\nfunction setPositionToContextMenu(event: any) {\r\n    let halfScreenX = document.documentElement.clientWidth / 2;\r\n    let halfScreenY = document.documentElement.clientHeight / 2;\r\n\r\n    const sidebarWidth = document.querySelector('.admin-page__sidebar')!.clientWidth;\r\n    let leftRightMargins = window.innerWidth - (chatBlock.value.clientWidth + sidebarWidth);\r\n\r\n    if (halfScreenX < event.pageX) {\r\n        clientX.value = Math.floor(event.clientX - (leftRightMargins / 2 + sidebarWidth) - 130);\r\n    } else {\r\n        clientX.value = Math.floor(event.clientX - (leftRightMargins / 2 + sidebarWidth) + 10);\r\n    }\r\n\r\n    if (halfScreenY < event.clientY) {\r\n        clientY.value = event.clientY + chatBlock.value.scrollTop - 280;\r\n    } else {\r\n        clientY.value = event.clientY + chatBlock.value.scrollTop - 120;\r\n    }\r\n};\r\n\r\nfunction getFullDate(msg: any) {\r\n    let date = msg.created_at.slice(0, 16).replace(\"T\", \" \");\r\n    let t = date.split(/[- :]/);\r\n    let time = new Date(Date.UTC(t[0], t[1] - 1, t[2], t[3], t[4]));\r\n    return time;\r\n};\r\n\r\nconst sortedChatByDate = computed(() => {\r\n    const res = chat.value?.reduce((acc, message) => {\r\n        const dayMonthYear = getFullDate(message)\r\n            .toLocaleString()\r\n            .slice(0, 10);\r\n        acc[dayMonthYear] = acc[dayMonthYear] || [];\r\n        acc[dayMonthYear].push(message);\r\n        return acc;\r\n    }, {});\r\n    return res;\r\n});\r\n\r\n\r\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"chat\",\n    ref_key: \"chatBlock\",\n    ref: chatBlock\n  }, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(sortedChatByDate.value, (messages, date) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        class: \"chat__messages\",\n        key: messages[0].id\n      }, [\n        _createVNode(ChatMessageComponent, {\n          messages: messages,\n          date: date,\n          authStoreUserId: __props.authStoreUserId,\n          onContextMenu: contextMenu\n        }, null, 8, [\"messages\", \"date\", \"authStoreUserId\"])\n      ]))\n    }), 128)),\n    (isContextMenu.value.isActive)\n      ? _withDirectives((_openBlock(), _createBlock(ChatContextMenu, {\n          key: 0,\n          clientX: clientX.value,\n          clientY: clientY.value\n        }, null, 8, [\"clientX\", \"clientY\"])), [\n          [_unref(vClickoutside), closeContextMenu]\n        ])\n      : _createCommentVNode(\"\", true)\n  ], 512))\n}\n}\n\n})","import script from \"./ChatMessagesComponent.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ChatMessagesComponent.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ChatMessagesComponent.vue?vue&type=style&index=0&id=edb36634&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-edb36634\"]])\n\nexport default __exports__","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import { defineComponent as _defineComponent } from 'vue'\nimport { withModifiers as _withModifiers, withKeys as _withKeys, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7f69bd68\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"textarea-wrapper\" }\n\nimport axios from 'axios';\r\nimport { ref } from 'vue';\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ChatTextareaComponent',\n  props: {\r\n    routeId: { type: Number, required: true },\r\n    authStoreUserId: { type: Number, required: true }\r\n},\n  setup(__props) {\n\nconst props = __props;\n\r\nconst text = ref('');\r\n\r\nfunction addMessage(event) {\r\n    if (text.value.trim() !== \"\"\r\n        //  || selectedFile.value != null\r\n    ) {\r\n        if (event.ctrlKey || event.type == \"click\") {\r\n            const config = {\r\n                \"Content-Type\": \"multipart/form-data\",\r\n            };\r\n            const uuid = uuidv4();\r\n            // const replyMessage = props.quote.message || \"\";\r\n            const message = text.value;\r\n            const formData = new FormData();\r\n            formData.append(\"uuid\", uuid);\r\n            formData.append(\"to\", props.routeId || 1);\r\n            formData.append(\"from\", props.authStoreUserId);\r\n            formData.append(\"message\", message);\r\n            // formData.append(\"replyMessage\", replyMessage);\r\n            axios.post(`/api/chat`, formData).then(res => console.log(res));\r\n        }\r\n        else {\r\n            let caret = event.target.selectionStart;\r\n            event.target.setRangeText(\"\\n\", caret, caret, \"end\");\r\n            text.value = event.target.value;\r\n        }\r\n    }\r\n}\r\n\r\nfunction tabLeft(event) {\r\n    let message = text.value;\r\n    let originalSelectionStart = event.target.selectionStart,\r\n        textStart = message.slice(0, originalSelectionStart),\r\n        textEnd = message.slice(originalSelectionStart);\r\n\r\n    text.value = `${textStart}\\t${textEnd}`;\r\n    event.target.value = text.value;\r\n    event.target.selectionEnd = event.target.selectionStart =\r\n        originalSelectionStart + 1;\r\n};\r\n\r\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _withDirectives(_createElementVNode(\"textarea\", {\n      onKeyup: _cache[0] || (_cache[0] = _withKeys(_withModifiers(($event: any) => (addMessage($event)), [\"ctrl\"]), [\"enter\"])),\n      onKeydown: _cache[1] || (_cache[1] = _withKeys(_withModifiers(($event: any) => (tabLeft($event)), [\"exact\",\"prevent\"]), [\"tab\"])),\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((text).value = $event)),\n      class: \"textarea__chat\"\n    }, null, 544), [\n      [_vModelText, text.value]\n    ]),\n    _createElementVNode(\"button\", {\n      class: \"textarea__chat-send-btn\",\n      onClick: addMessage\n    }, \"Отправить\")\n  ]))\n}\n}\n\n})","import script from \"./ChatTextareaComponent.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ChatTextareaComponent.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ChatTextareaComponent.vue?vue&type=style&index=0&id=7f69bd68&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7f69bd68\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, vShow as _vShow, createElementVNode as _createElementVNode, withDirectives as _withDirectives, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-a2bc0592\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"chat-wrapper\" }\n\nimport ChatMessagesComponent from \"@/components/Admin/Chat/ChatMessagesComponent.vue\";\r\nimport ChatTextareaComponent from \"@/components/Admin/Chat/ChatTextareaComponent.vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { useAuthStore } from '@/stores/authStore';\r\nimport { useAdminStore } from '@/stores/adminStore';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ChatComponent',\n  setup(__props) {\n\r\n\r\nconst route = useRoute();\r\nconst authStore = useAuthStore();\r\nconst adminStore = useAdminStore();\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"section\", _hoisted_1, [\n    _withDirectives(_createElementVNode(\"div\", { class: \"chat-name\" }, _toDisplayString(_unref(route).query.name), 513), [\n      [_vShow, !_unref(adminStore).adminSidebar.isOpen]\n    ]),\n    _createVNode(ChatMessagesComponent, {\n      routeId: +_unref(route).params.id,\n      authStoreUserId: _unref(authStore).getAuthUser().id\n    }, null, 8, [\"routeId\", \"authStoreUserId\"]),\n    _createVNode(ChatTextareaComponent, {\n      routeId: +_unref(route).params.id,\n      authStoreUserId: _unref(authStore).getAuthUser().id\n    }, null, 8, [\"routeId\", \"authStoreUserId\"])\n  ]))\n}\n}\n\n})","import script from \"./ChatComponent.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ChatComponent.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ChatComponent.vue?vue&type=style&index=0&id=a2bc0592&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a2bc0592\"]])\n\nexport default __exports__"],"names":["vClickoutside","beforeMount","element","binding","clickOutsideEvent","event","target","contains","value","document","body","addEventListener","unmounted","removeEventListener","useAdminStore","defineStore","adminSidebar","ref","isOpen","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_defineComponent","__name","props","messages","type","Object","date","String","authStoreUserId","Number","required","emits","setup","__props","emit","contextMenu","id","_ctx","_cache","_openBlock","_createElementBlock","_Fragment","_createElementVNode","_toDisplayString","_renderList","message","key","onClick","_withModifiers","$event","_normalizeClass","sender","__exports__","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_5","style","_normalizeStyle","left","clientX","top","clientY","routeId","closeContextMenu","isContextMenu","isActive","chat","chatBlock","getChat","axios","get","then","res","console","log","data","setPositionToContextMenu","halfScreenX","documentElement","clientWidth","halfScreenY","clientHeight","sidebarWidth","querySelector","leftRightMargins","window","innerWidth","pageX","Math","floor","scrollTop","getFullDate","msg","created_at","slice","replace","t","split","time","Date","UTC","onMounted","sortedChatByDate","computed","reduce","acc","dayMonthYear","toLocaleString","push","ref_key","_createVNode","ChatMessageComponent","onContextMenu","_withDirectives","_createBlock","ChatContextMenu","_unref","_createCommentVNode","randomUUID","crypto","bind","getRandomValues","rnds8","Uint8Array","rng","Error","byteToHex","i","toString","unsafeStringify","arr","offset","v4","options","buf","native","rnds","random","text","addMessage","trim","ctrlKey","uuid","uuidv4","formData","FormData","append","post","caret","selectionStart","setRangeText","tabLeft","originalSelectionStart","textStart","textEnd","selectionEnd","onKeyup","_withKeys","onKeydown","_vModelText","route","useRoute","authStore","useAuthStore","adminStore","query","name","_vShow","ChatMessagesComponent","params","getAuthUser","ChatTextareaComponent"],"sourceRoot":""}